<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function find(item, file) {
          var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function() {
              if (xhttp.readyState == 4 && xhttp.status == 200) {
                  var text = xhttp.responseText;
                  console.log(xhttp.responseText);
                  console.log(text);
                  if(text.indexOf(item) > -1) {
                      console.log(text);
                      var result = text.split(item);
                      if (result.length > 1) {
                          console.log(result.length);
                          var times = result.length;
                          console.log(times.toString());
                          return times.toString();
                        }
                      else {
                          console.log(text);
                          return "1";
                        }
                }
                  else {
                      console.log(text);
                      return "0";
                  }
            }
  	     };
  	     xhttp.open("GET", file, true);
  	     xhttp.send();
        }
      var truck = find("Truck", "resultsType.txt");
      console.log(find("Truck", "resultsType.txt"));
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Category', 'Hours per Day'],
          ['Red',  11],
          ['Green', 2],
          ['Blue',  2],
          ['Black', 2],
          ['Grey',  7],
          ['White', 1],
          ['Other', 3]
        ]);

        var options = {
          title: 'Students car\'s colors',
            pieHole: 0.4,
            slices: {
                0: {color: 'Red'},
                1: {color: 'Green'},
                2: {color: 'Blue'},
                3: {color: 'Black'},
                4: {color: 'Grey'},
                5: {color: 'White'},
                6: {color: 'Brown'}
            }
        };
          
        var dataModel = google.visualization.arrayToDataTable([
          ['Category', 'Hours per Day'],
          ['Honda',  11],
          ['Toyota', 2],
          ['Nissan',  2],
          ['Ford', 2],
          ['Jeep',  7],
          ['Buick', 1],
          ['Chevrolet', 3],
          ['Other', 3],
          ['None', 1]
        ]);

        var optionsModel = {
          title: 'Students car\'s models',
            pieHole: 0.4,
            slices: {
                0: {color: 'Red'},
                1: {color: 'Green'},
                2: {color: 'Blue'},
                3: {color: 'Black'},
                4: {color: 'Grey'},
                5: {color: 'White'},
                6: {color: 'Brown'}
            }
        };
          
        var dataType = google.visualization.arrayToDataTable([
          ['Category', 'Hours per Day'],
          ['Sedan',  11],
          ['Minivan', 2],
          ['Truck',  truck],
          ['SUV', 2],
          ['Sports car',  7]
        ]);

        var optionsType = {
          title: 'Students car\'s types',
            pieHole: 0.4,
            slices: {
                0: {color: 'Red'},
                1: {color: 'Green'},
                2: {color: 'Blue'},
                3: {color: 'Black'},
                4: {color: 'Grey'},
                5: {color: 'Brown'}
            }
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechartColor'));
        chart.draw(data, options);
          
        var chart2 = new google.visualization.PieChart(document.getElementById('piechartModel'));
        chart2.draw(dataModel, optionsModel);

        var chart3 = new google.visualization.PieChart(document.getElementById('piechartType'));
        chart3.draw(dataType, optionsType);
      }
    
    </script>
  </head>
  <body>
    <div id="piechartColor" style="width: 900px; height: 500px;"></div>
    <div id="piechartModel" style="width: 900px; height: 500px;"></div>
    <div id="piechartType" style="width: 900px; height: 500px;"></div>
  </body>
</html>
